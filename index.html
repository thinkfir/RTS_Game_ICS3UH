<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mini RTS Prototype</title>
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.161.0/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
  <style>
    * { box-sizing: border-box; }
    body { margin: 0; font-family: Arial, sans-serif; background: #0d1117; color: #f5f5f5; overflow: hidden; }
    #hud {
      position: fixed; top: 0; left: 0; right: 0; height: 72px; display: flex; align-items: center;
      background: rgba(20, 24, 35, 0.9); border-bottom: 1px solid #222b3c; padding: 8px 12px; gap: 12px;
      z-index: 10;
    }
    .resource { display: flex; align-items: center; gap: 6px; padding: 6px 10px; background: rgba(255,255,255,0.06); border-radius: 8px; }
    .resource span.label { color: #9ab; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px; }
    .resource span.value { font-weight: bold; color: #f5f5f5; }
    #age { margin-left: auto; display: flex; align-items: center; gap: 6px; }
    #age .pill { padding: 6px 12px; border-radius: 999px; background: #243247; color: #8fd1ff; border: 1px solid #345; }
    #controls { position: fixed; bottom: 0; left: 0; right: 0; display: flex; gap: 12px; padding: 10px 12px; background: rgba(20, 24, 35, 0.9); border-top: 1px solid #222b3c; z-index: 10; }
    #controls button { padding: 10px 12px; border-radius: 8px; border: 1px solid #39475f; background: #1e2a3c; color: #e2ecff; cursor: pointer; transition: transform 0.1s; }
    #controls button:active { transform: translateY(1px) scale(0.99); }
    #canvas-container { width: 100vw; height: 100vh; position: relative; }
    #minimap {
      position: fixed; right: 12px; bottom: 96px; width: 160px; height: 160px;
      background: rgba(0,0,0,0.4); border: 1px solid #39475f; border-radius: 8px; overflow: hidden; z-index: 10;
    }
    #minimap canvas { width: 100%; height: 100%; }
    #selection { position: fixed; left: 12px; bottom: 96px; min-width: 220px; padding: 12px; background: rgba(0,0,0,0.4); border: 1px solid #39475f; border-radius: 8px; z-index: 10; }
    #selection h4 { margin: 0 0 6px 0; font-size: 14px; color: #9ab; }
    #selection .details { font-size: 13px; line-height: 1.3; color: #dfe6f5; }
    #selection button { margin-top: 8px; width: 100%; padding: 8px; background: #243247; border: 1px solid #39475f; color: #e2ecff; border-radius: 6px; cursor: pointer; }
  </style>
</head>
<body>
  <div id="hud">
    <div class="resource"><span class="label">Food</span><span id="food" class="value">0</span></div>
    <div class="resource"><span class="label">Wood</span><span id="wood" class="value">0</span></div>
    <div class="resource"><span class="label">Gold</span><span id="gold" class="value">0</span></div>
    <div class="resource"><span class="label">Pop</span><span id="pop" class="value">0/10</span></div>
    <div id="age"><span class="pill">Age I</span><span class="pill muted">Age II</span><span class="pill muted">Age III</span></div>
  </div>

  <div id="canvas-container"></div>

  <div id="minimap"><canvas id="minimap-canvas" width="160" height="160"></canvas></div>
  <div id="selection">
    <h4>Selection</h4>
    <div class="details" id="selection-details">None</div>
    <button id="assign-gather">Assign to Gather (cycle)</button>
  </div>

  <div id="controls">
    <button id="make-villager">Train Villager (-50 Food)</button>
    <button id="make-spearman">Train Spearman (-50 Food/-20 Wood)</button>
    <button id="make-archer">Train Archer (-50 Wood/-20 Gold)</button>
    <button id="make-horse">Train Horseman (-80 Food/-40 Gold)</button>
  </div>

  <script type="module" src="./main.js"></script>
</body>
</html>
